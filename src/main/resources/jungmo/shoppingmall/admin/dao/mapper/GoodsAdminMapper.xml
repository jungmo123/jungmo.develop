<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
<mapper namespace="jungmo.shoppingmall.admin.goodsadmin.dao.mapper.GoodsAdminMapper">
	<insert id = "insertGoods" parameterType = "god">
	 <selectKey keyProperty="godNum" resultType="int" order="BEFORE">  
        select god_seq.nextval FROM dual
     </selectKey>
		insert into goods
		values(#{godNum},#{godNormalPrice},#{godSellingPrice},#{godMainImageUrl},#{godListImageUrl},#{godStock},#{godSellingLimit},#{godName},#{godDisplayType},sysdate,0,#{godcNum},#{godDetailInfo},#{memo})
	</insert>

	<insert id = "insertGoodsSub" parameterType = "hashmap">
		insert all
		<foreach item="godNum" collection = "num">
			<foreach item="image" collection = "img" index = "index">
				into goods_sub_images
				values(#{image},#{godNum},#{index}+1)
			</foreach>			
		</foreach>
		select * from dual
	</insert>
</mapper>